<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
        <title>mid_5</title>
        <link rel="stylesheet" href="/Midterm/style/mid_5.css">
    </head>
    <body>
        <header>
            <h2>BÀI THI ỨNG DỤNG WEB</h2>
            <p>MSSV : 2251012121 - Phí Minh Quang</p>
        </header>

        <nav>
            <a id="q1" href="/Midterm/html/mid_5-1.html">Câu 1</a>
            <div class="container">
                <a class="dropdown">Tin tức</a>
                <div class="dropdown-menu">
                    <a>Công nghệ</a>
                    <a>Phần mềm</a>
                    <a>Phàn cứng</a>
                    <a>Việc làm</a>
                </div>
            </div>
            <a id="q2" href="/Midterm/html/mid_5-2.html">Câu 2</a>
        </nav>
        <section class="left-section">
            <p>HTML</p>
            <p>CSS</p>
            <p>JS</p>
        </section>
        <div id="main-screen">
            <section class="right-section">
                <div class="task">
                    <div class="first">
                        <h3>Chuỗi ban đầu</h3>
                        <textarea id="input"></textarea><br>
                        <button id="task1" onclick="MaHoa()">Mã hóa</button>
                    </div>

                    <div class="second">
                        <h3>Chuỗi đã mã hóa</h3>
                        <textarea id="result"></textarea><br>
                        <button id="task2" onclick="GiaiMa()">Giải mã</button>
                    </div>
                </section>`
            </div>

        </div>
        <footer>Copyright 2023</footer>
        <script>
            let strInput = document.getElementById("input");
            let strOutput = document.getElementById("result");
            function MaHoa(){
                let str = strInput.value;
                let result = "";
                for (let i = 0; i < str.length; i++) {
                    if (str.charAt(i) !== " ") {
                        if (str.charCodeAt(i) === 122 || str.charCodeAt(i) === 90 || str.charCodeAt(i) === 57) {
                            switch (str.charCodeAt(i)) {
                                case 122:
                                    {
                                        result += 'a';
                                        break;
                                    }
                                case 90:
                                    {
                                        result += 'A';
                                        break;
                                    }
                                case 57:
                                    {
                                        result += '0';
                                        break;
                                    }
                            }
                        } else {
                            let newIdx = str.charCodeAt(i) + 1;
                            result += String.fromCharCode(newIdx);
                        }
                    } else 
                        result += " ";
                }
                strOutput.value = result;
            }
            function GiaiMa(){
                let str1 = strOutput.value;
                let result1 = "";
                for (let i = 0; i < str1.length; i++) {
                    if (str1.charAt(i) !== " ") {
                        if (str1.charCodeAt(i) === 97 || str1.charCodeAt(i) === 41 || str1.charAt(i) === 48) {
                            switch (str1.charCodeAt(i)) {
                                case 97:
                                    {
                                        result1 += 'z';
                                        break;
                                    }
                                case 41:
                                    {
                                        result1 += 'Z';
                                        break;
                                    }
                                case 57:
                                    {
                                        result1 += '9';
                                        break;
                                    }
                            }
                        } else {
                            let newIdx = str1.charCodeAt(i) - 1;
                            result1 += String.fromCharCode(newIdx);
                        }
                    } else 
                        result1 += " ";
                    
                }
                strInput.value = result1;
            }
        </script>
    </body>
</html>
